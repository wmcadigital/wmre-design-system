{% macro wmreAccordion(params) %}
{# Imports #}
{% from "wmre/components/icon/_icon.njk" import wmreIcon %}
{% from "wmre/components/disruption-indicator/small/_small.njk" import wmreDisruptionIndicatorSmall %}
{% from "wmre/components/disruption-indicator/medium/_medium.njk" import wmreDisruptionIndicatorMedium as wmreDisruptionIndicatorNarrow %}
{% from "wmre/components/icon/_icon.njk" import wmreIcon %}
{# Params #}
{% set isOpen = " wmre-is--open" if params.isOpen %}
{% set isExpanded = "true" if params.isOpen else "false" %}
{% set id = params.id if params.id else "accordion-01" %}

<div class="wmre-accordion{{isOpen}}">
  <div aria-controls="{{id}}" class="wmre-accordion__summary-wrapper" aria-expanded="{{isExpanded}}">
    <!-- accordion summary -->
    <div class="wmre-accordion__summary">
      {% if params.customSummary -%}
      <!-- custom summary using grid -->
      <div class="wmre-grid wmre-grid--align-center">
        {{
          wmreDisruptionIndicatorSmall({
            classModifiers: 'wmre-col-auto wmre-m-r-md',
            mode: 'bus'
          }) | indent(10) | trim
        }}
        <div class="wmre-col-auto">
          Resurfacing Works at <strong>Abbey Street, Lower Gornal</strong>
        </div>
      </div>
      {%- else -%}
        <h4 class="wmre-m-b-none">Accordion</h4>
      {%- endif %}
    </div>
    <!-- plus icon -->
    {{
      wmreIcon({
        icon: 'general-expand',
        class: 'wmre-accordion__icon'
      }) | indent(4) | trim
    }}
    <!-- minus icon -->
    {{
      wmreIcon({
        icon: 'general-minimise',
        class: 'wmre-accordion__icon wmre-accordion__icon--minimise'
      }) | indent(4) | trim
    }}
  </div>

  <!-- accordion content -->
  <div class="wmre-accordion__content" id="{{id}}">
    <p>
      <strong>Some random subtitle</strong>
    </p>
    <p>
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt consectetur, eius repellat dolor vel corporis eos fugiat. Ut totam, incidunt sequi iusto nesciunt illum natus, dolores velit cumque, excepturi labore!
    </p>
  </div>
</div>

{% endmacro %}